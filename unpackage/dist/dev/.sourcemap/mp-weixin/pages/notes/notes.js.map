{"version":3,"file":"notes.js","sources":["pages/notes/notes.vue","D:/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvbm90ZXMvbm90ZXMudnVl"],"sourcesContent":["<template>\r\n\t<view class=\"article-box\">\r\n\t\t<uni-calendar class=\"uni-calendar--hook\" :selected=\"selected\" :showMonth=\"false\" @change=\"change\" />\r\n\t\t<notes-card :notesDetail=\"notesDetail\"></notes-card>\r\n\t\t<view v-if=\"notesDetail.length < 1\" style=\"display: flex;justify-content: center; padding: 20px;\">无数据</view>\r\n\t</view>\r\n</template>\r\n\r\n<script setup>\r\n\timport {\r\n\t\tref,\r\n\t\treactive,\r\n\t\tonMounted\r\n\t} from 'vue'\r\n\timport NotesCard from '@/pages/components/NotesCard.vue';\r\n\timport {\r\n\t\tgetNotesApi\r\n\t} from '@/http/notes';\r\n\timport { _formatTime } from '@/utils/publickFun';\r\n\timport _ from 'lodash'\r\n\r\n\tconst notesDetail = ref({\r\n\t\tid: '',\r\n\t\ttitle: '',\r\n\t\tcontent: '',\r\n\t\tupdatedAt: '',\r\n\t\tweather: '',\r\n\t\tcover: '',\r\n\t})\r\n\t\r\n\tconst notesAllDetail = ref({\r\n\t\tid: '',\r\n\t\ttitle: '',\r\n\t\tcontent: '',\r\n\t\tupdatedAt: '',\r\n\t\tweather: '',\r\n\t\tcover: '',\r\n\t})\r\n\r\n\tconst selected = ref([])\r\n\t// 过滤符合的数据\r\n\tconst change = (e) => {\r\n\t\tconst listData = _.cloneDeep(notesAllDetail.value)\r\n\t\tnotesDetail.value = listData.filter((item) => {\r\n\t\t\treturn _formatTime(item.updatedAt).date == e.fulldate\r\n\t\t})\r\n\t}\r\n\tconst getNotesData = async () => {\r\n\t\tconst result = await getNotesApi({})\r\n\t\tconst res = result.data\r\n\t\tif (res.code == 200) {\r\n\t\t\tnotesDetail.value = res.data\r\n\t\t\tnotesAllDetail.value = _.cloneDeep(res.data)\r\n\t\t\tselected.value = []\r\n\t\t\tres.data.map((item) => {\r\n\t\t\t\tselected.value.push({\r\n\t\t\t\t\tdate: _formatTime(item.updatedAt).date,\r\n\t\t\t\t\tinfo: '日记'\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t\t} else {\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle: '网络错误',\r\n\t\t\t\ticon: 'none',\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tonMounted(() => {\r\n\t\tgetNotesData()\r\n\t})\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t.article-title {\r\n\t\tfont-size: 1rem;\r\n\t\tfont-weight: 600;\r\n\t\tpadding-left: 15px;\r\n\t}\r\n\r\n\t.more-button {\r\n\t\tmargin-top: 20px;\r\n\t\twidth: 60px;\r\n\t\theight: 34px;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tfont-size: 0.8rem;\r\n\t}\r\n</style>","import MiniProgramPage from 'E:/WebProject/MixBlogUniApp/pages/notes/notes.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","_","_formatTime","getNotesApi","uni","onMounted"],"mappings":";;;;;;;;;;;;AAcC,MAAM,YAAY,MAAW;;;;AAO7B,UAAM,cAAcA,cAAAA,IAAI;AAAA,MACvB,IAAI;AAAA,MACJ,OAAO;AAAA,MACP,SAAS;AAAA,MACT,WAAW;AAAA,MACX,SAAS;AAAA,MACT,OAAO;AAAA,IACT,CAAE;AAED,UAAM,iBAAiBA,cAAAA,IAAI;AAAA,MAC1B,IAAI;AAAA,MACJ,OAAO;AAAA,MACP,SAAS;AAAA,MACT,WAAW;AAAA,MACX,SAAS;AAAA,MACT,OAAO;AAAA,IACT,CAAE;AAED,UAAM,WAAWA,cAAG,IAAC,EAAE;AAEvB,UAAM,SAAS,CAAC,MAAM;AACrB,YAAM,WAAWC,cAAC,EAAC,UAAU,eAAe,KAAK;AACjD,kBAAY,QAAQ,SAAS,OAAO,CAAC,SAAS;AAC7C,eAAOC,iBAAAA,YAAY,KAAK,SAAS,EAAE,QAAQ,EAAE;AAAA,MAChD,CAAG;AAAA,IACD;AACD,UAAM,eAAe,YAAY;AAChC,YAAM,SAAS,MAAMC,WAAW,YAAC,EAAE;AACnC,YAAM,MAAM,OAAO;AACnB,UAAI,IAAI,QAAQ,KAAK;AACpB,oBAAY,QAAQ,IAAI;AACxB,uBAAe,QAAQF,cAAAA,EAAE,UAAU,IAAI,IAAI;AAC3C,iBAAS,QAAQ,CAAE;AACnB,YAAI,KAAK,IAAI,CAAC,SAAS;AACtB,mBAAS,MAAM,KAAK;AAAA,YACnB,MAAMC,iBAAW,YAAC,KAAK,SAAS,EAAE;AAAA,YAClC,MAAM;AAAA,UACX,CAAK;AAAA,QACL,CAAI;AAAA,MACJ,OAAS;AACNE,sBAAAA,MAAI,UAAU;AAAA,UACb,OAAO;AAAA,UACP,MAAM;AAAA,QACV,CAAI;AAAA,MACD;AAAA,IACD;AAEDC,kBAAAA,UAAU,MAAM;AACf,mBAAc;AAAA,IAChB,CAAE;;;;;;;;;;;;;;;;;ACrEF,GAAG,WAAW,eAAe;"}