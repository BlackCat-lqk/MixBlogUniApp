import{r as a,s as t,u as e,c as s,w as o,v as l,e as i,o as r,b as n,l as c,d,x as m,f as p}from"./index-CzxlOnnV.js";import{g as u,A as f}from"./blogArticle.DR7MMjRS.js";import{C as g}from"./ClassifyMeun.DMkw2f3D.js";import{_ as b}from"./lodash.DsPGAem2.js";import{_ as y}from"./_plugin-vue_export-helper.BCo6x5W8.js";import"./uni-tag.BWozOdbv.js";import"./request.BCiXkOZl.js";import"./_commonjsHelpers.DiAMJNXd.js";import"./uni-icons.DHrBPC_q.js";const _=y({__name:"article",setup(y){const _=a(!1),j=t({data:[],columns:2,deepData:[]}),D=t([{name:"全部",number:0}]),h=()=>{j.data=j.deepData.slice(0,j.data.length+6)},v=a=>{const t=b.cloneDeep(j.deepData),e=t.filter((t=>t.category===a));"全部"===a?(_.value=!1,j.data=t.slice(0,6)):(_.value=!0,j.data=e)};return e((()=>{(async()=>{const a=(await u({})).data;if(200==a.code){const t=a.data.list.filter((a=>"published"===a.status));j.deepData=b.cloneDeep(t),D[0].number=a.data.pagination.total;for(const e in a.data.stats.categories)D.push({name:e,number:a.data.stats.categories[e]});j.data=t.slice(0,6)}else l({title:"网络错误",icon:"none"})})()})),(a,t)=>{const e=m,l=p,u=i;return r(),s(u,{class:"article-box"},{default:o((()=>[n(g,{classify:D,onClassifyEmit:v},null,8,["classify"]),n(f,{articleData:j},null,8,["articleData"]),_.value?(r(),c("div",{key:1,class:"more-btn"})):(r(),c("div",{key:0,class:"more-btn"},[j.data.length<j.deepData.length?(r(),s(e,{key:0,class:"more-button",type:"primary",onClick:h},{default:o((()=>[d(" 加载更多 ")])),_:1})):(r(),s(l,{key:1,class:"no-more-textg"},{default:o((()=>[d(" 没有更多了 ")])),_:1}))]))])),_:1})}}},[["__scopeId","data-v-dab0d575"]]);export{_ as default};
