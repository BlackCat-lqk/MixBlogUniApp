require('../../app.js');
"use strict";const e=require("../../common/vendor.js"),a=require("../../http/photoLibrary.js");Math||(o+t)();const t=()=>"../components/ImageLibrary.js",o=()=>"../components/ClassifyMeun.js",l={__name:"gallery",setup(t){const o=e.ref([]),l=e.ref([]),n=e.ref(!1),s=e.reactive([{name:"全部",number:0}]),c=()=>{o.value=l.value.slice(0,o.value.length+6)},r=a=>{console.log(a);const t=e._.cloneDeep(l.value);console.log(t);const s=t.filter((e=>e.category===a));"全部"===a?(n.value=!1,o.value=t.slice(0,6)):(n.value=!0,o.value=s)};return e.onMounted((()=>{(async()=>{const t=(await a.getPhotoLibraryApi({})).data;if(200==t.code){l.value=e._.cloneDeep(t.data.list),o.value=t.data.list,s[0].number=t.data.pagination.total;for(const e in t.data.stats.categories)s.push({name:e,number:t.data.stats.categories[e]})}else e.index.showToast({title:"网络错误",icon:"none"})})()})),(a,t)=>e.e({a:e.o(r),b:e.p({classify:s}),c:e.f(o.value,((a,t,o)=>({a:"8935a627-1-"+o,b:e.p({photosData:a}),c:t}))),d:!n.value},n.value?{}:e.e({e:o.value.length<l.value.length},o.value.length<l.value.length?{f:e.o(c)}:{}))}},n=e._export_sfc(l,[["__scopeId","data-v-8935a627"]]);wx.createPage(n);
