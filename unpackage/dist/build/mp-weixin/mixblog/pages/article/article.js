require('../../app.js');
"use strict";const e=require("../../common/vendor.js"),a=require("../../http/blogArticle.js");Math||(s+t)();const t=()=>"../components/ArticleCard.js",s=()=>"../components/ClassifyMeun.js",n={__name:"article",setup(t){const s=e.ref(!1),n=e.reactive({data:[],columns:2,deepData:[]}),o=e.reactive([{name:"全部",number:0}]),c=()=>{n.data=n.deepData.slice(0,n.data.length+6)},l=a=>{const t=e._.cloneDeep(n.deepData),o=t.filter((e=>e.category===a));"全部"===a?(s.value=!1,n.data=t.slice(0,6)):(s.value=!0,n.data=o)};return e.onMounted((()=>{(async()=>{const t=(await a.getAllBlogArticleApi({})).data;if(200==t.code){const a=t.data.list.filter((e=>"published"===e.status));n.deepData=e._.cloneDeep(a),o[0].number=t.data.pagination.total;for(const e in t.data.stats.categories)o.push({name:e,number:t.data.stats.categories[e]});n.data=a.slice(0,6)}else e.index.showToast({title:"网络错误",icon:"none"})})()})),(a,t)=>e.e({a:e.o(l),b:e.p({classify:o}),c:e.p({articleData:n}),d:!s.value},s.value?{}:e.e({e:n.data.length<n.deepData.length},n.data.length<n.deepData.length?{f:e.o(c)}:{}))}},o=e._export_sfc(n,[["__scopeId","data-v-dab0d575"]]);wx.createPage(o);
